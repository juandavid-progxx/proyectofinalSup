<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane prefHeight="600.0" prefWidth="800.0" xmlns="http://javafx.com/javafx/11.0.14-internal" xmlns:fx="http://javafx.com/fxml/1" fx:controller="co.uniquindio.edu.co.Controladores.PerfilController">

    <!-- Header -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20.0" style="-fx-background-color: #000000;">
            <padding>
                <Insets bottom="15.0" left="20.0" right="20.0" top="15.0" />
            </padding>

            <Label style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: white;" text="ðŸ‘¤ Mi Perfil" />
            <Region HBox.hgrow="ALWAYS" />
            <Button fx:id="btnVolver" onAction="#handleVolver" style="-fx-background-color: white; -fx-text-fill: #667eea; -fx-font-weight: bold;" text="â† Volver" />
        </HBox>
    </top>

    <!-- Contenido -->
    <center>
        <ScrollPane fitToWidth="true" prefHeight="565.0" prefWidth="800.0" style="-fx-background-color: #f5f5f5;">
            <VBox spacing="20.0" style="-fx-background-color: #1A8734;">
                <padding>
                    <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                </padding>

                <!-- InformaciÃ³n del usuario -->
                <VBox spacing="15.0" style="-fx-background-color: white; -fx-padding: 25; -fx-background-radius: 10;">
                    <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #000000;" text="InformaciÃ³n de la Cuenta" />
                    <Separator />

                    <GridPane hgap="15.0" vgap="15.0">
                        <columnConstraints>
                            <ColumnConstraints halignment="RIGHT" minWidth="150.0" />
                            <ColumnConstraints hgrow="ALWAYS" />
                        </columnConstraints>

                        <Label style="-fx-font-weight: bold;" text="Username:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <Label fx:id="lblUsername" style="-fx-font-size: 16px; -fx-text-fill: #667eea; -fx-font-weight: bold;" text="" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                        <Label style="-fx-font-weight: bold;" text="Canciones Favoritas:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                        <Label fx:id="lblTotalFavoritos" text="0" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                        <Label style="-fx-font-weight: bold;" text="Usuarios Seguidos:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                        <Label fx:id="lblTotalSeguidos" text="0" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                  <rowConstraints>
                     <RowConstraints />
                     <RowConstraints />
                     <RowConstraints />
                  </rowConstraints>
                    </GridPane>
                </VBox>

                <!-- Editar perfil -->
                <VBox spacing="15.0" style="-fx-background-color: white; -fx-padding: 25; -fx-background-radius: 10;">
                    <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #000000;" text="Editar Perfil" />
                    <Separator />

                    <VBox spacing="10.0">
                        <Label style="-fx-font-weight: bold;" text="Nombre:" />
                        <TextField fx:id="txtNombre" promptText="Tu nombre" style="-fx-padding: 10; -fx-font-size: 14px;" />
                    </VBox>
                </VBox>

                <!-- Cambiar contraseÃ±a -->
                <VBox spacing="15.0" style="-fx-background-color: white; -fx-padding: 25; -fx-background-radius: 10;">
                    <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #000000;" text="Cambiar ContraseÃ±a" />
                    <Separator />

                    <VBox spacing="10.0">
                        <Label style="-fx-font-weight: bold;" text="ContraseÃ±a Actual:" />
                        <PasswordField fx:id="txtPasswordActual" promptText="ContraseÃ±a actual" style="-fx-padding: 10; -fx-font-size: 14px;" />

                        <Label style="-fx-font-weight: bold;" text="Nueva ContraseÃ±a:" />
                        <PasswordField fx:id="txtPasswordNueva" promptText="Nueva contraseÃ±a" style="-fx-padding: 10; -fx-font-size: 14px;" />

                        <Label style="-fx-font-weight: bold;" text="Confirmar Nueva ContraseÃ±a:" />
                        <PasswordField fx:id="txtConfirmarPassword" promptText="Confirmar contraseÃ±a" style="-fx-padding: 10; -fx-font-size: 14px;" />
                    </VBox>
                </VBox>

                <!-- Mensaje -->
                <Label fx:id="lblMensaje" style="-fx-font-weight: bold; -fx-font-size: 14px;" text="" visible="false" wrapText="true" />

                <!-- Botones -->
                <HBox alignment="CENTER" spacing="15.0">
                    <Button fx:id="btnActualizar" onAction="#handleActualizar" prefHeight="40.0" prefWidth="200.0" style="-fx-background-color: #667eea; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px;" text="ðŸ’¾ Guardar Cambios" />
                    <Button fx:id="btnExportar" onAction="#handleExportar" prefHeight="40.0" prefWidth="200.0" style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px;" text="ðŸ“¥ Exportar Favoritos" />
                </HBox>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>
